{% load static %}
{% load util %}

<div id = "panel-home" class = "panel {% if selected == True %}selected{% endif %}">
	<div class = "widget-container" style = "--rows: 2; --columns: 4">
        <div class = "widget-list">
            <div class = "widget-list-header">
                <p class = "widget-list-label">Rooms</p>
            </div>
            <div class = "widgets">
                {% if user.userprofile.most_recent_room %}

                    <a class = "no-underline" href = "{% url 'room' room_code=user.userprofile.most_recent_room.code %}">
                        <div class = "widget link" style = "--background-image: url({{ user.userprofile.most_recent_room.playlist_image_url }})">
                            <div class = "widget-image">

                            </div>
                            <div class = "widget-info">
                                <div class = "widget-type">
                                    <img src = "{% static 'img/icons/recent-white-24.png' %}">
                                    <p>Most Recent</p>
                                </div>
                                <div class = "widget-label"> 
                                    <p class = "widget-name">{{ user.userprofile.most_recent_room.title }}</p>
                                </div>
                            </div>
                        </div>
                    </a>

                {% endif %}

                {% for room in other_rooms %}

                    <a class = "no-underline" href = "{% url 'room' room_code=room.code %}">
                        <div class = "widget link" style = "--background-image: url({{ room.playlist_image_url }})">
                            <div class = "widget-image">

                            </div>
                            <div class = "widget-info">
                                <div class = "widget-label"> 
                                    <p class = "widget-name">{{ room.title }}</p>
                                </div>
                            </div>
                        </div>
                    </a>

                {% endfor %}
            </div>
        </div>
    </div>

    {% if room_count == 0 %}
        
        <div id = "no-rooms-container">
            <img src = "{% static 'img/not-found-96.png' %}">
            <p id = "error-message">There doesn't seem to be anything here...</p>
        </div>

    {% endif %}
</div>